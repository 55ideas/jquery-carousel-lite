/*! jQuery jCarouselLite - v1.7.2 - 2012-07-21
* http://kswedberg.github.com/jquery-carousel-lite/
* Copyright (c) 2012 Karl Swedberg; Licensed MIT, GPL */
(function(a){function b(a,b){return b.autoStop&&(b.circular?b.autoStop:Math.min(a,b.autoStop))}function c(a){this.id&&(this.id+=a)}a.jCarouselLite={version:"1.7.2",curr:0},a.fn.jCarouselLite=function(d){var e=a.extend(!0,{},a.fn.jCarouselLite.defaults,d),f=Math.ceil;return this.each(function(){function O(){return D.slice(F).slice(0,r)}function P(b){if(g)return!1;var c=F,d=b>F;return e.beforeStart&&e.beforeStart.call(this,O(),d),e.circular?(b>F&&b>E-r?(F=F%p,b=b-p,m.css(h,-F*G)):b<F&&b<0&&(F+=p,b+=p,m.css(h,-F*G)),F=b+b%1):(b<0?b=0:b>E-s&&(b=E-s),F=b,e.btnPrev&&e.$btnPrev.toggleClass(e.btnDisabledClass,F===0),e.btnNext&&e.$btnNext.toggleClass(e.btnDisabledClass,F===E-s)),C(F,w),a.jCarouselLite.curr=F,c===F?(e.afterEnd&&e.afterEnd.call(this,O(),d),F):(g=!0,i[h]=-(F*G),m.animate(i,e.speed,e.easing,function(){e.afterEnd&&e.afterEnd.call(this,O(),d),g=!1}),F)}var d={ul:{}},g=!1,h=e.vertical?"top":"left",i={},j=e.vertical?"height":"width",k=this,l=a(this),m=l.find("ul").eq(0),n=m.children("li"),p=n.length,q=e.visible,r=f(q),s=Math.floor(q),t=Math.min(e.start,p-1),u=1,v=0,w={},x,y,z,A,B=e.init.call(this,e,n);if(B===!1)return;l.data("dirjc",u),e.circular&&(x=n.slice(p-r).clone(!0).each(c),y=n.slice(0,r).clone(!0).each(c),m.prepend(x).append(y),t+=r,v=r);var C=function(b,c){b=f(b);var d,g=(b-v)%p,h=g+s;return c.go&&(d=a(e.btnGo),d.removeClass(e.activeClass).removeClass(e.visibleClass),d.eq(g).addClass(e.activeClass),d.slice(g,g+s).addClass(e.visibleClass),h>d.length&&d.slice(0,h-d.length).addClass(e.visibleClass)),c.pager&&(z.removeClass(e.activeClass),z.eq(f(g/q)).addClass(e.activeClass)),g},D=m.children("li"),E=D.length,F=t,G=e.vertical?D.outerHeight(!0):D.outerWidth(!0),H=G*E,I=G*q;a.jCarouselLite.curr=F,e.autoCSS&&(l.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"}),m.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1}),D.css({overflow:e.vertical?"hidden":"visible","float":e.vertical?"none":"left"}),d.div={},d.div[j]=I+"px",l.css(d.div),D.css({width:D.width(),height:D.height()}),d.ul[j]=H+"px",d.ul[h]=-(F*G)+"px",m.css(d.ul));var J=0,K=b(p,e),L=typeof e.auto=="number"?e.auto:e.scroll,M=function(){k.setAutoAdvance=setTimeout(function(){if(!K||K>J)u=l.data("dirjc"),P(F+u*L),J++,M()},e.timeout)};a.each(["btnPrev","btnNext"],function(b,c){e[c]&&(e["$"+c]=a.isFunction(e[c])?e[c].call(l[0]):a(e[c]),e["$"+c].bind("click.jc",function(a){a.preventDefault();var c=b===0?F-e.scroll:F+e.scroll;return e.directional&&l.data("dirjc",b?1:-1),P(c)}))}),e.circular||(e.btnPrev&&t===0&&e.$btnPrev.addClass(e.btnDisabledClass),e.btnNext&&t+s>=E&&e.$btnNext.addClass(e.btnDisabledClass)),e.btnGo&&(a.each(e.btnGo,function(b,c){a(c).bind("click.jc",function(a){return a.preventDefault(),P(e.circular?q+b:b)})}),w.go=1);if(e.autoPager){A=f(p/q),z=[];for(var N=0;N<A;N++)z.push('<li><a href="#">'+(N+1)+"</a></li>");z.length>1&&(z=a("<ul>"+z.join("")+"</ul>").appendTo(e.autoPager).find("li")),z.find("a").each(function(b){a(this).bind("click.jc",function(a){a.preventDefault();var c=b*q;return e.circular&&(c+=q),P(c)})}),w.pager=1}C(t,w),e.mouseWheel&&l.mousewheel&&l.bind("mousewheel.jc",function(a,b){return b>0?P(F-e.scroll):P(F+e.scroll)}),e.pause&&e.auto&&l.bind("mouseenter.jc",function(){l.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){l.trigger("resumeCarousel.jc")}),e.auto&&M(),a.jCarouselLite.vis=O,l.bind("go.jc",function(a,b){typeof b=="undefined"&&(b="+=1");var c=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);c?b=c[1]=="-="?F-c[2]*1:F+c[2]*1:b+=t,P(b)}).bind("startCarousel.jc",function(a){clearTimeout(k.setAutoAdvance),k.setAutoAdvance=undefined,l.trigger("go","+="+e.scroll),M(),l.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(a,b){if(k.setAutoAdvance)return;clearTimeout(k.setAutoAdvance),k.setAutoAdvance=undefined;var c=l.data("stoppedjc");if(b||!c)M(),l.removeData("pausedjc"),c&&l.removeData("stoppedjc")}).bind("pauseCarousel.jc",function(a){clearTimeout(k.setAutoAdvance),k.setAutoAdvance=undefined,l.data("pausedjc",!0)}).bind("stopCarousel.jc",function(a){clearTimeout(k.setAutoAdvance),k.setAutoAdvance=undefined,l.data("stoppedjc",!0)}).bind("endCarousel.jc",function(){k.setAutoAdvance&&(clearTimeout(k.setAutoAdvance),k.setAutoAdvance=undefined),e.btnPrev&&e.$btnPrev.addClass(e.btnDisabledClass).unbind(".jc"),e.btnNext&&e.$btnNext.addClass(e.btnDisabledClass).unbind(".jc"),e.btnGo&&a.each(e.btnGo,function(b,c){a(c).unbind(".jc")}),a.each(["pausedjc","stoppedjc","dirjc"],function(a,b){l.removeData(b)}),l.unbind(".jc")})}),this},a.fn.jCarouselLite.defaults={autoCSS:!0,btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:!1,speed:200,easing:null,timeout:4e3,auto:!1,directional:!1,autoStop:!1,pause:!0,vertical:!1,circular:!0,visible:3,start:0,scroll:1,init:function(){},beforeStart:null,afterEnd:null}})(jQuery);