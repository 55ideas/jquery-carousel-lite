/*!
 * jQuery jCarousellite Plugin v1.6.3
 *
 * Date: Sat Feb 04 22:53:15 2012 EST
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(f){function r(w,a){return parseInt(f.css(w[0],a),10)||0}f.jCarouselLite={version:"1.6.3",curr:0};f.fn.jCarouselLite=function(w){var a=f.extend({},f.fn.jCarouselLite.defaults,w);this.each(function(){function x(){return i.slice(e).slice(0,g)}function n(d){if(y)return false;var b=d>e;a.beforeStart&&a.beforeStart.call(this,x(),b);if(a.circular)if(d<=m-g-1){l.css(s,-((j-g*2)*o)+"px");e=d==m-g-1?j-g*2-1:j-g*2-a.scroll}else if(d>=j-g+1){l.css(s,-(g*o)+"px");e=d==j-g+1?g+1:g+a.scroll}else e=d;else e=
d<0?0:d>j-t?j-t:d;a.btnPrev&&a.$btnPrev.toggleClass(a.btnDisabledClass,e===0);a.btnNext&&a.$btnNext.toggleClass(a.btnDisabledClass,e===j-t);f.jCarouselLite.curr=e;y=true;B[s]=-(e*o);l.animate(B,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,x(),b);y=false});return false}var p={},y=false,s=a.vertical?"top":"left",B={},C=a.vertical?"height":"width",h=this,c=f(this),l=c.find("ul").eq(0),q=l.children("li"),z=q.length,u=a.visible,g=Math.ceil(u),t=Math.floor(u),m=Math.min(a.start,z-1),A=1;
c.data("dirjc",A);if(a.circular){l.prepend(q.slice(z-g-1+1).clone(true)).append(q.slice(0,g).clone(true));m+=g}var i=l.children("li"),j=i.length,e=m;f.jCarouselLite.curr=e;c.css("visibility","visible");if(a.autoCSS){c.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"});l.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});i.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"})}var o=a.vertical?i[0].offsetHeight+
r(i,"marginTop")+r(i,"marginBottom"):i[0].offsetWidth+r(i,"marginLeft")+r(i,"marginRight");q=o*j;var F=o*u;if(a.autoCSS){p[C]=F+"px";c.css(p);i.css({width:i.width(),height:i.height()})}p[C]=q+"px";p[s]=-(e*o);l.css(p);var D=0,E=a.autoStop&&(a.circular?a.autoStop:Math.min(z,a.autoStop)),G=typeof a.auto=="number"?a.auto:a.scroll,v=function(){h.setAutoAdvance=setTimeout(function(){if(!E||E>D){A=c.data("dirjc");n(e+A*G);D++;v()}},a.timeout+a.speed)};f.each(["btnPrev","btnNext"],function(d,b){if(a[b]){a["$"+
b]=f.isFunction(a[b])?a[b].call(c[0]):f(a[b]);a["$"+b].bind("click.jc",function(){var k=d===0?e-a.scroll:e+a.scroll;if(a.directional)c.data("dirjc",d?1:-1);return n(k)})}});if(!a.circular){a.btnPrev&&m===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&m+t>=j&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&f.each(a.btnGo,function(d,b){f(b).bind("click.jc",function(){return n(a.circular?u+d:d)})});a.mouseWheel&&c.mousewheel&&c.bind("mousewheel.jc",function(d,b){return b>0?n(e-a.scroll):n(e+
a.scroll)});a.pause&&a.auto&&c.bind("mouseenter.jc",function(){c.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){c.trigger("resumeCarousel.jc")});a.auto&&v();f.jCarouselLite.vis=x;c.bind("go.jc",function(d,b){if(typeof b=="undefined")b="+=1";var k=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(k)b=k[1]=="-="?e-k[2]*1:e+k[2]*1;else b+=m;n(b)}).bind("startCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.trigger("go","+="+a.scroll);v();c.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",
function(d,b){if(!h.setAutoAdvance){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;var k=c.data("stoppedjc");if(b||!k){v();c.removeData("pausedjc");k&&c.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;c.data("stoppedjc",true)}).bind("endCarousel.jc",function(){if(h.setAutoAdvance){clearTimeout(h.setAutoAdvance);
h.setAutoAdvance=undefined}a.btnPrev&&a.$btnPrev.addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a.$btnNext.addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&f.each(a.btnGo,function(d,b){f(b).unbind(".jc")});f.each(["pausedjc","stoppedjc","dirjc"],function(d,b){c.removeData(b)});c.unbind(".jc")})});return this};f.fn.jCarouselLite.defaults={autoCSS:true,btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,timeout:4E3,auto:false,directional:false,
autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
