/*!
 * jQuery jCarousellite Plugin v1.6
 *
 * Date: Thu Sep 15 11:46:52 2011 EDT
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(g){function r(u,a){return parseInt(g.css(u[0],a),10)||0}g.jCarouselLite={version:"1.6"};g.fn.jCarouselLite=function(u){var a=g.extend({},g.fn.jCarouselLite.defaults,u);this.each(function(){function n(d){if(v)return false;var b=d>f;a.beforeStart&&a.beforeStart.call(this,h.slice(f).slice(0,e),b);if(a.circular)if(d<=m-e-1){k.css(s,-((i-e*2)*o)+"px");f=d==m-e-1?i-e*2-1:i-e*2-a.scroll}else if(d>=i-e+1){k.css(s,-(e*o)+"px");f=d==i-e+1?e+1:e+a.scroll}else f=d;else{a.$btnPrev.toggleClass(a.btnDisabledClass,
a.btnPrev&&d<=0);a.$btnNext.toggleClass(a.btnDisabledClass,a.btnNext&&d>i-e);f=d<0?0:d>i-e?i-e:d}v=true;x[s]=-(f*o);k.animate(x,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,h.slice(f).slice(0,e),b);v=false});return false}var p={},v=false,s=a.vertical?"top":"left",x={},y=a.vertical?"height":"width",l=this,c=g(this),k=c.find("ul").eq(0),q=k.children("li"),w=q.length,e=a.visible,m=Math.min(a.start,w-1);direction=1;c.data("dirjc",direction);if(a.circular){k.prepend(q.slice(w-e-1+1).clone(true)).append(q.slice(0,
e).clone(true));m+=e}var h=k.children("li"),i=h.length,f=m;c.css("visibility","visible");if(a.autoCSS){h.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"});k.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});c.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"})}var o=a.vertical?h[0].offsetHeight+r(h,"marginTop")+r(h,"marginBottom"):h[0].offsetWidth+r(h,"marginLeft")+r(h,"marginRight");q=o*i;var B=o*e;if(a.autoCSS){p[y]=
B+"px";c.css(p);h.css({width:h.width(),height:h.height()})}p[y]=q+"px";p[s]=-(f*o);k.css(p);var z=0,A=a.autoStop&&(a.circular?a.autoStop:Math.min(w,a.autoStop)),t=function(){l.setAutoAdvance=setTimeout(function(){if(!A||A>z){direction=c.data("dirjc");n(f+direction*a.scroll);z++;t()}},a.timeout+a.speed)};g.each(["btnPrev","btnNext"],function(d,b){if(a[b]){a["$"+b]=g.isFunction(a[b])?a[b].call(c[0]):g(a[b]);a["$"+b].bind("click.jc",function(){var j=d===0?f-a.scroll:f+a.scroll;if(a.directional)c.data("dirjc",
d?1:-1);return n(j)})}});if(!a.circular){a.btnPrev&&m===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&m+a.visible>=i&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&g.each(a.btnGo,function(d,b){g(b).bind("click.jc",function(){return n(a.circular?a.visible+d:d)})});a.mouseWheel&&c.mousewheel&&c.bind("mousewheel.jc",function(d,b){return b>0?n(f-a.scroll):n(f+a.scroll)});a.pause&&c.bind("mouseenter.jc",function(){c.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){c.trigger("resumeCarousel.jc")});
a.auto&&t();c.bind("go.jc",function(d,b){if(typeof b=="undefined")b="+=1";var j=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(j)b=j[1]=="-="?f-j[2]*1:f+j[2]*1;else b+=m;n(b)}).bind("startCarousel.jc",function(){clearTimeout(l.setAutoAdvance);c.trigger("go","+="+a.scroll);t();c.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(d,b){clearTimeout(l.setAutoAdvance);var j=c.data("stoppedjc");if(b||!j){t();c.removeData("pausedjc");j&&c.removeData("stoppedjc")}}).bind("pauseCarousel.jc",
function(){clearTimeout(l.setAutoAdvance);c.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(l.setAutoAdvance);c.data("stoppedjc",true)}).bind("endCarousel.jc",function(){if(l.setAutoAdvance){clearTimeout(l.setAutoAdvance);l.setAutoAdvance=null}a.btnPrev&&a[$btnPrev].addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a[$btnNext].addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&g.each(a.btnGo,function(d,b){g(b).unbind(".jc")});g.each(["pausedjc","stoppedjc","dirjc"],function(d,
b){c.removeData(b)});c.unbind(".jc")})});return this};g.fn.jCarouselLite.defaults={autoCSS:true,btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,auto:false,directional:false,autoStop:false,timeout:4E3,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
