/*!
 * jQuery jCarousellite Plugin v1.4
 *
 * Date: Wed Aug 31 23:04:45 2011 EDT
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(g){function q(t,a){return parseInt(g.css(t[0],a),10)||0}g.jCarouselLite={version:"1.4"};g.fn.jCarouselLite=function(t){var a=g.extend({},g.fn.jCarouselLite.defaults,t);this.each(function(){function l(c){if(u)return false;var b=c>e;a.beforeStart&&a.beforeStart.call(this,h.slice(e).slice(0,d),b);if(a.circular)if(c<=k-d-1){j.css(r,-((i-d*2)*m)+"px");e=c==k-d-1?i-d*2-1:i-d*2-a.scroll}else if(c>=i-d+1){j.css(r,-(d*m)+"px");e=c==i-d+1?d+1:d+a.scroll}else e=c;else{a.$btnPrev.toggleClass(a.btnDisabledClass,
a.btnPrev&&c<=0);a.$btnNext.toggleClass(a.btnDisabledClass,a.btnNext&&c>i-d);e=c<0?0:c>i-d?i-d:c}u=true;x[r]=-(e*m);j.animate(x,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,h.slice(e).slice(0,d),b);u=false});return false}var o={},u=false,r=a.vertical?"top":"left",x={},y=a.vertical?"height":"width",n=this,f=g(this),j=f.find("ul").eq(0),p=j.children("li"),v=p.length,d=a.visible,k=Math.min(a.start,v-1);if(a.circular){j.prepend(p.slice(v-d-1+1).clone(true)).append(p.slice(0,d).clone(true));
k+=d}var h=j.children("li"),i=h.length,e=k;f.css("visibility","visible");if(a.autoCSS){h.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"});j.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});f.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"})}var m=a.vertical?h[0].offsetHeight+q(h,"marginTop")+q(h,"marginBottom"):h[0].offsetWidth+q(h,"marginLeft")+q(h,"marginRight");p=m*i;var B=m*d;if(a.autoCSS){o[y]=B+
"px";f.css(o);h.css({width:h.width(),height:h.height()})}o[y]=p+"px";o[r]=-(e*m);j.css(o);g.each(["btnPrev","btnNext"],function(c,b){if(a[b]){a["$"+b]=g.isFunction(a[b])?a[b].call(f[0]):g(a[b]);a["$"+b].bind("click.jc",function(){return l(c===0?e-a.scroll:e+a.scroll)})}});if(!a.circular){a.btnPrev&&k===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&k+a.visible>=i&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&g.each(a.btnGo,function(c,b){g(b).bind("click.jc",function(){return l(a.circular?
a.visible+c:c)})});a.mouseWheel&&f.mousewheel&&f.bind("mousewheel.jc",function(c,b){return b>0?l(e-a.scroll):l(e+a.scroll)});if(a.auto){var z=0,A=a.autoStop&&(a.circular?a.autoStop:Math.min(v,a.autoStop)),w=function(){n.setAutoAdvance=setTimeout(function(){if(!A||A>z){l(e+a.scroll);z++;w()}},a.timeout+a.speed)};w();f.bind("pauseCarousel.jc",function(){clearTimeout(n.setAutoAdvance);f.data("pausedjc",true)}).bind("resumeCarousel.jc",function(){w();f.removeData("pausedjc")});a.pause&&f.bind("mouseenter.jc",
function(){f.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){f.trigger("resumeCarousel.jc")})}f.bind("go.jc",function(c,b){if(typeof b=="undefined")b="+=1";var s=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(s)b=s[1]=="-="?e-s[2]*1:e+s[2]*1;else b+=k;l(b)}).bind("endCarousel.jc",function(){n.setAutoAdvance&&clearTimeout(n.setAutoAdvance);a.btnPrev&&a[$btnPrev].addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a[$btnNext].addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&g.each(a.btnGo,
function(c,b){g(b).unbind(".jc")});if(n.setAutoAdvance)n.setAutoAdvance=null;f.removeData("pausejc");f.unbind(".jc")})});return this};g.fn.jCarouselLite.defaults={autoCSS:true,btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,auto:false,autoStop:false,timeout:4E3,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
