/*!
 * jQuery jCarousellite Plugin v1.6.3
 *
 * Date: Tue Mar 13 15:23:26 2012 EDT
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(f){function r(x,a){return parseInt(f.css(x[0],a),10)||0}f.jCarouselLite={version:"1.6.3",curr:0};f.fn.jCarouselLite=function(x){var a=f.extend({},f.fn.jCarouselLite.defaults,x);this.each(function(){function y(){return i.slice(e).slice(0,g)}function n(c){if(z)return false;var b=c>e;a.beforeStart&&a.beforeStart.call(this,y(),b);if(a.circular)if(c<=l-g-1){m.css(s,-((j-g*2)*o)+"px");e=c==l-g-1?j-g*2-1:j-g*2-a.scroll}else if(c>=j-g+1){m.css(s,-(g*o)+"px");e=c==j-g+1?g+1:g+a.scroll}else e=c;else e=
c<0?0:c>j-t?j-t:c;a.btnPrev&&a.$btnPrev.toggleClass(a.btnDisabledClass,e===0);a.btnNext&&a.$btnNext.toggleClass(a.btnDisabledClass,e===j-t);a.btnGo&&B(e);f.jCarouselLite.curr=e;z=true;C[s]=-(e*o);m.animate(C,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,y(),b);z=false});return false}var p={},z=false,s=a.vertical?"top":"left",C={},D=a.vertical?"height":"width",h=this,d=f(this),m=d.find("ul").eq(0),q=m.children("li"),u=q.length,v=a.visible,g=Math.ceil(v),t=Math.floor(v),l=Math.min(a.start,
u-1),A=1,E=0;d.data("dirjc",A);if(a.circular){m.prepend(q.slice(u-g-1+1).clone(true)).append(q.slice(0,g).clone(true));l+=g;E=g}var B=function(c){c=(c-E)%u;f(a.btnGo).removeClass(a.activeClass).eq(c).addClass(a.activeClass);return c},i=m.children("li"),j=i.length,e=l;f.jCarouselLite.curr=e;d.css("visibility","visible");if(a.autoCSS){d.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"});m.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});
i.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"})}var o=a.vertical?i[0].offsetHeight+r(i,"marginTop")+r(i,"marginBottom"):i[0].offsetWidth+r(i,"marginLeft")+r(i,"marginRight");q=o*j;var H=o*v;if(a.autoCSS){p[D]=H+"px";d.css(p);i.css({width:i.width(),height:i.height()})}p[D]=q+"px";p[s]=-(e*o);m.css(p);var F=0,G=a.autoStop&&(a.circular?a.autoStop:Math.min(u,a.autoStop)),I=typeof a.auto=="number"?a.auto:a.scroll,w=function(){h.setAutoAdvance=setTimeout(function(){if(!G||
G>F){A=d.data("dirjc");n(e+A*I);F++;w()}},a.timeout+a.speed)};f.each(["btnPrev","btnNext"],function(c,b){if(a[b]){a["$"+b]=f.isFunction(a[b])?a[b].call(d[0]):f(a[b]);a["$"+b].bind("click.jc",function(){var k=c===0?e-a.scroll:e+a.scroll;if(a.directional)d.data("dirjc",c?1:-1);return n(k)})}});if(!a.circular){a.btnPrev&&l===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&l+t>=j&&a.$btnNext.addClass(a.btnDisabledClass)}if(a.btnGo){f.each(a.btnGo,function(c,b){f(b).bind("click.jc",function(){return n(a.circular?
v+c:c)})});B(l)}a.mouseWheel&&d.mousewheel&&d.bind("mousewheel.jc",function(c,b){return b>0?n(e-a.scroll):n(e+a.scroll)});a.pause&&a.auto&&d.bind("mouseenter.jc",function(){d.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){d.trigger("resumeCarousel.jc")});a.auto&&w();f.jCarouselLite.vis=y;d.bind("go.jc",function(c,b){if(typeof b=="undefined")b="+=1";var k=typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(k)b=k[1]=="-="?e-k[2]*1:e+k[2]*1;else b+=l;n(b)}).bind("startCarousel.jc",function(){clearTimeout(h.setAutoAdvance);
h.setAutoAdvance=undefined;d.trigger("go","+="+a.scroll);w();d.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(c,b){if(!h.setAutoAdvance){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;var k=d.data("stoppedjc");if(b||!k){w();d.removeData("pausedjc");k&&d.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined;d.data("pausedjc",true)}).bind("stopCarousel.jc",function(){clearTimeout(h.setAutoAdvance);
h.setAutoAdvance=undefined;d.data("stoppedjc",true)}).bind("endCarousel.jc",function(){if(h.setAutoAdvance){clearTimeout(h.setAutoAdvance);h.setAutoAdvance=undefined}a.btnPrev&&a.$btnPrev.addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a.$btnNext.addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&f.each(a.btnGo,function(c,b){f(b).unbind(".jc")});f.each(["pausedjc","stoppedjc","dirjc"],function(c,b){d.removeData(b)});d.unbind(".jc")})});return this};f.fn.jCarouselLite.defaults={autoCSS:true,
btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,activeClass:"active",mouseWheel:false,speed:200,easing:null,timeout:4E3,auto:false,directional:false,autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
