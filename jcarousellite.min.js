/*!
 * jQuery jCarousellite Plugin v1.5
 *
 * Date: Tue Sep 06 13:30:06 2011 EDT
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(g){function r(u,a){return parseInt(g.css(u[0],a),10)||0}g.jCarouselLite={version:"1.5"};g.fn.jCarouselLite=function(u){var a=g.extend({},g.fn.jCarouselLite.defaults,u);this.each(function(){function n(c){if(v)return false;var b=c>f;a.beforeStart&&a.beforeStart.call(this,h.slice(f).slice(0,e),b);if(a.circular)if(c<=l-e-1){k.css(s,-((i-e*2)*o)+"px");f=c==l-e-1?i-e*2-1:i-e*2-a.scroll}else if(c>=i-e+1){k.css(s,-(e*o)+"px");f=c==i-e+1?e+1:e+a.scroll}else f=c;else{a.$btnPrev.toggleClass(a.btnDisabledClass,
a.btnPrev&&c<=0);a.$btnNext.toggleClass(a.btnDisabledClass,a.btnNext&&c>i-e);f=c<0?0:c>i-e?i-e:c}v=true;x[s]=-(f*o);k.animate(x,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,h.slice(f).slice(0,e),b);v=false});return false}var p={},v=false,s=a.vertical?"top":"left",x={},y=a.vertical?"height":"width",j=this,d=g(this),k=d.find("ul").eq(0),q=k.children("li"),w=q.length,e=a.visible,l=Math.min(a.start,w-1);if(a.circular){k.prepend(q.slice(w-e-1+1).clone(true)).append(q.slice(0,e).clone(true));
l+=e}var h=k.children("li"),i=h.length,f=l;d.css("visibility","visible");if(a.autoCSS){h.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"});k.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});d.css({visibility:"visible",overflow:"hidden",position:"relative",zIndex:2,left:"0px"})}var o=a.vertical?h[0].offsetHeight+r(h,"marginTop")+r(h,"marginBottom"):h[0].offsetWidth+r(h,"marginLeft")+r(h,"marginRight");q=o*i;var B=o*e;if(a.autoCSS){p[y]=B+
"px";d.css(p);h.css({width:h.width(),height:h.height()})}p[y]=q+"px";p[s]=-(f*o);k.css(p);var z=0,A=a.autoStop&&(a.circular?a.autoStop:Math.min(w,a.autoStop)),t=function(){j.setAutoAdvance=setTimeout(function(){if(!A||A>z){n(f+a.scroll);z++;t()}},a.timeout+a.speed)};g.each(["btnPrev","btnNext"],function(c,b){if(a[b]){a["$"+b]=g.isFunction(a[b])?a[b].call(d[0]):g(a[b]);a["$"+b].bind("click.jc",function(){return n(c===0?f-a.scroll:f+a.scroll)})}});if(!a.circular){a.btnPrev&&l===0&&a.$btnPrev.addClass(a.btnDisabledClass);
a.btnNext&&l+a.visible>=i&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&g.each(a.btnGo,function(c,b){g(b).bind("click.jc",function(){return n(a.circular?a.visible+c:c)})});a.mouseWheel&&d.mousewheel&&d.bind("mousewheel.jc",function(c,b){return b>0?n(f-a.scroll):n(f+a.scroll)});a.pause&&d.bind("mouseenter.jc",function(){d.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){d.trigger("resumeCarousel.jc")});a.auto&&t();d.bind("go.jc",function(c,b){if(typeof b=="undefined")b="+=1";var m=
typeof b=="string"&&/(\+=|-=)(\d+)/.exec(b);if(m)b=m[1]=="-="?f-m[2]*1:f+m[2]*1;else b+=l;n(b)}).bind("startCarousel.jc",function(){clearTimeout(j.setAutoAdvance);d.trigger("go","+="+a.scroll);t();d.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(c,b){clearTimeout(j.setAutoAdvance);var m=d.data("stoppedjc");if(b||!m){t();d.removeData("pausedjc");m&&d.removeData("stoppedjc")}}).bind("pauseCarousel.jc",function(){clearTimeout(j.setAutoAdvance);d.data("pausedjc",true)}).bind("stopCarousel.jc",
function(){clearTimeout(j.setAutoAdvance);d.data("stoppedjc",true)}).bind("endCarousel.jc",function(){j.setAutoAdvance&&clearTimeout(j.setAutoAdvance);a.btnPrev&&a[$btnPrev].addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a[$btnNext].addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&g.each(a.btnGo,function(c,b){g(b).unbind(".jc")});if(j.setAutoAdvance)j.setAutoAdvance=null;d.removeData("pausedjc").removeData("stoppedjc");d.unbind(".jc")})});return this};g.fn.jCarouselLite.defaults={autoCSS:true,
btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,auto:false,autoStop:false,timeout:4E3,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
