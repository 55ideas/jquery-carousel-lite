/*!
 * jQuery jCarousellite Plugin v1.4
 *
 * Date: Sun Aug 28 12:14:39 2011 EDT
 * Requires: jQuery v1.4+
 *
 * Copyright 2007 Ganeshji Marwaha (gmarwaha.com)
 * Modifications/enhancements by Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * jQuery plugin to navigate images/any content in a carousel style widget.
 *
*/
(function(g){function p(s,a){return parseInt(g.css(s[0],a),10)||0}g.jCarouselLite={version:"1.4"};g.fn.jCarouselLite=function(s){var a=g.extend({},g.fn.jCarouselLite.defaults,s);this.each(function(){function k(d){if(!t){a.beforeStart&&a.beforeStart.call(this,h.slice(f).slice(0,b));if(a.circular)if(d<=l-b-1){j.css(q,-((i-b*2)*m)+"px");f=d==l-b-1?i-b*2-1:i-b*2-a.scroll}else if(d>=i-b+1){j.css(q,-(b*m)+"px");f=d==i-b+1?b+1:b+a.scroll}else f=d;else{a.$btnPrev.toggleClass(a.btnDisabledClass,a.btnPrev&&
d<=0);a.$btnNext.toggleClass(a.btnDisabledClass,a.btnNext&&d>i-b);f=d<0?0:d>i-b?i-b:d}t=true;w[q]=-(f*m);j.animate(w,a.speed,a.easing,function(){a.afterEnd&&a.afterEnd.call(this,h.slice(f).slice(0,b));t=false})}return false}var t=false,q=a.vertical?"top":"left",w={},x=a.vertical?"height":"width",n=this,e=g(this),j=e.find("ul").eq(0),o=j.children("li"),u=o.length,b=a.visible,l=Math.min(a.start,u-1);if(a.circular){j.prepend(o.slice(u-b-1+1).clone(true)).append(o.slice(0,b).clone(true));l+=b}var h=j.children("li"),
i=h.length,f=l;e.css("visibility","visible");h.css({overflow:a.vertical?"hidden":"visible","float":a.vertical?"none":"left"});j.css({margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1});e.css({overflow:"hidden",position:"relative",zIndex:2,left:"0px"});var m=a.vertical?h[0].offsetHeight+p(h,"marginTop")+p(h,"marginBottom"):h[0].offsetWidth+p(h,"marginLeft")+p(h,"marginRight");o=m*i;var A=m*b;h.css({width:h.width(),height:h.height()});j.css(x,o+"px").css(q,-(f*m));e.css(x,A+"px");
g.each(["btnPrev","btnNext"],function(d,c){if(a[c]){a["$"+c]=g.isFunction(a[c])?a[c].call(e[0]):g(a[c]);a["$"+c].bind("click.jc",function(){return k(d===0?f-a.scroll:f+a.scroll)})}});if(!a.circular){a.btnPrev&&l===0&&a.$btnPrev.addClass(a.btnDisabledClass);a.btnNext&&l+a.visible>=i&&a.$btnNext.addClass(a.btnDisabledClass)}a.btnGo&&g.each(a.btnGo,function(d,c){g(c).bind("click.jc",function(){return k(a.circular?a.visible+d:d)})});a.mouseWheel&&e.mousewheel&&e.bind("mousewheel.jc",function(d,c){return c>
0?k(f-a.scroll):k(f+a.scroll)});if(a.auto){var y=0,z=a.autoStop&&(a.circular?a.autoStop:Math.min(u,a.autoStop)),v=function(){n.setAutoAdvance=setTimeout(function(){if(!z||z>y){k(f+a.scroll);y++;v()}},a.timeout+a.speed)};v();e.bind("pauseCarousel.jc",function(){clearTimeout(n.setAutoAdvance);e.data("pausedjc",true)}).bind("resumeCarousel.jc",function(){v();e.removeData("pausedjc")});a.pause&&e.bind("mouseenter.jc",function(){e.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){e.trigger("resumeCarousel.jc")})}e.bind("go.jc",
function(d,c){c=c||["+=1"];var r=typeof c=="string"&&/(\+=|-=)(\d+)/.exec(c);if(r)c=r[1]=="-="?f-r[2]*1:f+r[2]*1;k(c)}).bind("endCarousel.jc",function(){n.setAutoAdvance&&clearTimeout(n.setAutoAdvance);a.btnPrev&&a[$btnPrev].addClass(a.btnDisabledClass).unbind(".jc");a.btnNext&&a[$btnNext].addClass(a.btnDisabledClass).unbind(".jc");a.btnGo&&g.each(a.btnGo,function(d,c){g(c).unbind(".jc")});if(n.setAutoAdvance)n.setAutoAdvance=null;e.removeData("pausejc");e.unbind(".jc")})});return this};g.fn.jCarouselLite.defaults=
{btnPrev:null,btnNext:null,btnDisabledClass:"disabled",btnGo:null,mouseWheel:false,speed:200,easing:null,auto:false,autoStop:false,timeout:4E3,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null}})(jQuery);
